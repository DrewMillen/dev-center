(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{162:function(e,t,i){"use strict";i.r(t),i.d(t,"frontMatter",(function(){return a})),i.d(t,"metadata",(function(){return c})),i.d(t,"rightToc",(function(){return p})),i.d(t,"default",(function(){return s}));var n=i(1),r=i(9),o=(i(0),i(209)),a={title:"TypeScript Activity Decorators"},c={id:"workflow/typescript-activity-decorators",title:"TypeScript Activity Decorators",description:"[Custom workflow activities](implement-custom-activity-web.mdx) implemented in [TypeScript](https://www.typescriptlang.org/) use [decorators](https://www.typescriptlang.org/docs/handbook/decorators.html) to describe the activity metadata that [Workflow Designer](https://apps.geocortex.com/workflow/designer/) consumes.",source:"@site/docs/workflow/typescript-activity-decorators.mdx",permalink:"/dev-center/docs/workflow/typescript-activity-decorators",editUrl:"https://github.com/geocortex/dev-center/edit/master/docs/workflow/typescript-activity-decorators.mdx",sidebar:"workflow",previous:{title:"Integrating the Esri API",permalink:"/dev-center/docs/workflow/integrating-the-esri-api-web"},next:{title:"Geocortex Mobile SDK",permalink:"/dev-center/docs/workflow/getting-started-mobile"}},p=[{value:"Basic Decorators",id:"basic-decorators",children:[]},{value:"Activity Compatibility Decorators",id:"activity-compatibility-decorators",children:[{value:"Example: Activity Compatibility Decorators",id:"example-activity-compatibility-decorators",children:[]}]}],l={rightToc:p};function s(e){var t=e.components,i=Object(r.a)(e,["components"]);return Object(o.b)("wrapper",Object(n.a)({},l,i,{components:t,mdxType:"MDXLayout"}),Object(o.b)("p",null,Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"/dev-center/docs/workflow/implement-custom-activity-web"}),"Custom workflow activities")," implemented in ",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"https://www.typescriptlang.org/"}),"TypeScript")," use ",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"https://www.typescriptlang.org/docs/handbook/decorators.html"}),"decorators")," to describe the activity metadata that ",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"https://apps.geocortex.com/workflow/designer/"}),"Workflow Designer")," consumes."),Object(o.b)("h2",{id:"basic-decorators"},"Basic Decorators"),Object(o.b)("p",null,"The following activity demonstrates the basic metadata decorators that could exist on a custom activity and it's inputs and outputs."),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-typescript"}),"export interface Inputs {\n    // `@displayName` The name of the activity input that appears in the properties panel.\n    // `@description` The description of the activity input that appears in inline help tooltips.\n    // `@required`  Whether the activity input should be presented as required.\n    //              Note: Validation of required inputs must be implemented by the `execute(inputs)` method of the activity.\n    input?: any;\n}\n\nexport interface Outputs {\n    // `@description` The description of the activity output that appears in inline help tooltips.\n    result: any;\n}\n\n// `@category` The name of the toolbox category the activity will appear in.\n// `@displayName` The name of the activity that appears in the toolbox and properties panel.\n// `@description` The description of the activity that appears in inline help tooltips.\n// `@helpUrl` An absolute URL to additional documentation for this activity.\nexport class Activity {\n    // Perform the execution logic of the activity.\n    async execute(inputs: Inputs): Promise<Outputs> {\n        return { result: {} };\n    }\n}\n")),Object(o.b)("h2",{id:"activity-compatibility-decorators"},"Activity Compatibility Decorators"),Object(o.b)("p",null,"You can specify which environments an activity is compatible with by adding the appropriate decorators to the activity class. This will cause Geocortex Workflow Designer to only display the activity when the workflow's ",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"https://docs.geocortex.com/workflow/latest/help/Default.htm#wf5/help/deployment-settings.htm"}),"deployment settings")," indicate it is compatible, and generate warnings if the activity is used in an incompatible enviroment. You can use the following decorators on the activity class;"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"@onlineOnly")," Indicates that the activity will not work without network connectivity. It is sufficient to add the decorator without any text beside it."),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"@clientOnly")," Indicates that the activity will only run in a client environment such as web browser or mobile app. It is sufficient to add the decorator without any text beside it."),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"@serverOnly")," Indicates that the activity will only run on a server running Workflow Server. It is sufficient to add the decorator without any text beside it."),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"@supportedApps")," A comma-separated list of apps supported by the activity. Workflows targeting an app that is not listed here should not use this activity."),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"@unsupportedApps")," A comma-separated list of apps not supported by the activity. Workflows targeting an app that is listed here should not use this activity.")),Object(o.b)("p",null,"App values that currently supported in Workflow Designer:"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"GWV")," (Geocortex Web Viewer)"),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"GMV")," (Geocortex Mobile Viewer)"),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"GVH")," (Geocortex Viewer for HTML5)"),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"WAB")," (Web App Builder)")),Object(o.b)("p",null,"If you do not want to limit the use of an activity, do not add any of the above decorators. It will appear in the toolbox and will not generate any warnings when used."),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Note: The intention is that you use either ",Object(o.b)("inlineCode",{parentName:"li"},"@supportedApps")," or ",Object(o.b)("inlineCode",{parentName:"li"},"@unsupportedApps"),", depending on the situation. Do not use both.")),Object(o.b)("h3",{id:"example-activity-compatibility-decorators"},"Example: Activity Compatibility Decorators"),Object(o.b)("p",null,"The following example declares that an activity will only work on Geocortex Web or Web App Builder in an online and client side environment."),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-typescript"}),"// @supportedApps WAB, GWV\n// @onlineOnly\n// @clientOnly\nexport class DoesntWorkOnMobile {\n    ...\n}\n")))}s.isMDXComponent=!0},209:function(e,t,i){"use strict";i.d(t,"a",(function(){return u})),i.d(t,"b",(function(){return m}));var n=i(0),r=i.n(n);function o(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function c(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach((function(t){o(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function p(e,t){if(null==e)return{};var i,n,r=function(e,t){if(null==e)return{};var i,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)i=o[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)i=o[n],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}var l=r.a.createContext({}),s=function(e){var t=r.a.useContext(l),i=t;return e&&(i="function"==typeof e?e(t):c({},t,{},e)),i},u=function(e){var t=s(e.components);return r.a.createElement(l.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},b=Object(n.forwardRef)((function(e,t){var i=e.components,n=e.mdxType,o=e.originalType,a=e.parentName,l=p(e,["components","mdxType","originalType","parentName"]),u=s(i),b=n,m=u["".concat(a,".").concat(b)]||u[b]||d[b]||o;return i?r.a.createElement(m,c({ref:t},l,{components:i})):r.a.createElement(m,c({ref:t},l))}));function m(e,t){var i=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var o=i.length,a=new Array(o);a[0]=b;var c={};for(var p in t)hasOwnProperty.call(t,p)&&(c[p]=t[p]);c.originalType=e,c.mdxType="string"==typeof e?e:n,a[1]=c;for(var l=2;l<o;l++)a[l]=i[l];return r.a.createElement.apply(null,a)}return r.a.createElement.apply(null,i)}b.displayName="MDXCreateElement"}}]);