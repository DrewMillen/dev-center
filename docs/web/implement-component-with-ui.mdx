---
title: Custom Component with a Visual Interface
description: Geocortex Web - Learn how to implement a custom component with a visual interface
---

import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";
import PrereqsSnippet from "./snippets/prereqs.mdx";
import NewsFeedComponent from "./snippets/news-feed-component.mdx";
import NewsFeedComponentCss from "./snippets/news-feed-component-css.mdx";

:::tip
Did you know Geocortex Workflow allows you to [create custom forms](https://docs.geocortex.com/workflow/latest/help/Default.htm#wf5/help/forms.htm#Overview_of_Forms%3FTocPath%3DForms%7COverview%2520of%2520Forms%7C_____0) you can present to an end user?
:::

Implementing a custom component in Geocortex Web gives you one of the highest degrees of flexibility with what you can do. [Components](concepts-components-services.mdx) can display custom, dynamic UI, register operation implementations, store persistent data, and more. They are also one of the most complex ways of customizing your Geocortex Web app, so it's worthwhile to try simplier options like [Commands and Operations](concepts-commands-operations.mdx) or [Workflow](change-default-search-behaviour.mdx) first.

By the end of this article, you'll have the knowledge to build a component that displays relevant news items at the top of your map.

<!-- TODO - news feed user interface here -->

## Prerequisites

<PrereqsSnippet />

## Create a Component Skeleton

Create a new folder structure with the following files. These files define a new component with a simple visual structure and export it from the `CustomComponent` folder.

-   `src/components/CustomComponent/CustomComponent.tsx`
-   `src/components/CustomComponent/CustomComponentModel.ts`
-   `src/components/CustomComponent/index.ts`

:::note
In Geocortex Web, components are simply [React Components](https://reactjs.org/docs/components-and-props.html) that return a root `LayoutElement`.
Every component needs an associated [model](concepts-components-services.mdx#models)
:::

<Tabs
  defaultValue="component"
  values={[
    { label: 'Component', value: 'component', },
    { label: 'Model', value: 'model', },
    { label: 'Registration', value: 'index', }
  ]
}>
<TabItem value="component">

```tsx title="src/components/CustomComponent/CustomComponent.tsx"
import React from "react";
import { LayoutElement } from "@geocortex/web/components";

export default function CustomComponent(props) {
    return (
        <LayoutElement {...props}>
            <div>I'm so custom</div>
        </LayoutElement>
    );
}
```

</TabItem>
<TabItem value="model">

```ts title="src/components/CustomComponent/CustomComponentModel.ts"
import { ComponentModelBase, serializable } from "@geocortex/web/models";

class CustomComponentModel extends ComponentModelBase {}

export default serializable(CustomComponentModel);
```

</TabItem>
<TabItem value="index">

```ts title="src/components/CustomComponent/index.ts"
import CustomComponentModel from "./CustomComponentModel";

export { default } from "./CustomComponent";
export { CustomComponentModel };
```

</TabItem>
</Tabs>

## Register the Component with the Web SDK

Every component needs to be registered with the Web SDK in order to be used in the [`layout`](concepts-layout.mdx)

Add new calls to `registerComponent` and `registerModel` in `src/index.ts`.

:::note
One key thing to note about this snippet is the `itemType`. The value of the [item type](TODO-link) is what links a component to a model. It's also the string value used for the `$type` property when defining [configuration for a component](implement-component-participate-app-config.mdx).
:::

```ts
import CustomComponent from "./components/CustomComponent"
...

export default function(registry) {
    ...
    registry.registerComponent({
        name: "my-component",
        namespace: "your.custom.namespace",
        getComponentType: () => CustomComponent,
        // highlight-next-line
        itemType: "custom-component-model",
        title: "Custom Component",
    });
    registry.registerModel({
        getModelType: () => CustomComponentModel,
        // highlight-next-line
        itemType: "custom-component-model",
    });
    ...
}
```

## Add the Component to your Layout

To allow layout to find your component, you need to add the custom namespace of your component defined in the previous step with an `xmlns` tag to the [layout file](quick-start.mdx#anatomy-of-the-quick-start).

```xml title="app/layout.xml"
<?xml version="1.0" encoding="UTF-8"?>
<layout xmlns="https://geocortex.com/layout/v1"
        // highlight-next-line
        xmlns:custom="your.custom.namespace">
    <map id="map-primary" config="default" />
</layout>
```

You can then add the component itself to your layout, making sure to use `name` defined when registering the component in `src/index.ts`.

```xml title="app/layout.xml"
<?xml version="1.0" encoding="UTF-8"?>
<layout xmlns="https://geocortex.com/layout/v1"
xmlns:custom="your.custom.namespace">
    <map id="map-primary" config="default" />
    // highlight-next-line
    <custom:my-component>
</layout>
```

TODO - ui screenshot

If you run the [development server](quick-start.mdx#getting-up-and-running) you should see your custom component up and running.

## Build out your Component's UI

Now that we have a working component, you can build out the UI experience just as you would with any other React Component.

### Example: RSS Feed of News Updates

This React component displays a list of "news items" relevant to your GIS application in a hovering component at the top of the map. In a real application, these news items would be populated by an RSS feed or another news source.

<!-- TODO - update this to be a real working example with a live preview. For now, maybe a picture would suffice -->

<Tabs
  defaultValue="component"
  values={[
    { label: 'Component', value: 'component', },
    { label: 'Model', value: 'model', },
    { label: 'Css', value: 'css', },
    { label: 'Layout', value: 'layout', },
    { label: 'Component Index', value: 'newsFeedIndex', },
    { label: 'Registration', value: 'index', },
  ]
}>
<TabItem value="component">

<NewsFeedComponent />

</TabItem>

<TabItem value="model">

```ts title="src/components/NewsFeedComponent/NewsFeedModel.ts"
import { ComponentModelBase, serializable } from "@geocortex/web/models";

class NewsFeedModel extends ComponentModelBase {}

export default serializable(NewsFeedModel);
```

</TabItem>
<TabItem value="css">
<NewsFeedComponentCss/>
</TabItem>
<TabItem value="layout">

```xml title="app/layout.xml"
<?xml version="1.0" encoding="UTF-8"?>
<layout xmlns="https://geocortex.com/layout/v1" xmlns:custom="your.custom.namespace">
    <map id="map-primary" config="default" >
        // highlight-next-line
        <custom:news-feed slot="top-center"/>
    </map>
</layout>
```

</TabItem>
<TabItem value="newsFeedIndex">

```ts title="src/components/NewsFeedComponent/index.ts"
import NewsFeedModel from "./NewsFeedModel";

export { default } from "./NewsFeedComponent";
export { NewsFeedModel };
```

</TabItem>
<TabItem value="index">

```ts title="src/index.ts"
import Test, { TestModel } from "./components/Test";
import NewsFeedComponent, { NewsFeedModel } from "./components/NewsFeedComponent";

const LAYOUT_NAMESPACE = "custom.foo";

export default function (registry) {
    registry.registerComponent({
        name: "news-feed",
        namespace: "your.custom.namespace",
        getComponentType: () => NewsFeedComponent,
        itemType: "news-feed-model",
        title: "News Feed",
    });
    registry.registerModel({
        getModelType: () => NewsFeedModel,
        itemType: "news-feed-model",
    });
}
```

</TabItem>
</Tabs>

TODO - add user interface photo
