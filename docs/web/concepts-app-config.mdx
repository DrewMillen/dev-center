---
title: App Config
description: Geocortex Web - Learn about Geocortex Web's configuration concepts
---

import useBaseUrl from "@docusaurus/useBaseUrl";
import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";
import UseCaseCard from "../../src/components/UseCaseCard";
import UseCaseContainer from "../../src/components/UseCaseContainer";
import AppItemSnippet from "../snippets/app-item.mdx";
import FollowAlongSnippet from "./snippets/follow-along.mdx";

:::note Before learning about app config...
Check out the [Key Concepts](concepts-key-concepts.mdx).
:::

While [layouts](concepts-layout.mdx) depict the visual structure of how components are going to appear in the viewer, **app config** is used to define the functional structure within a given component.

-   Think of the app config as the structural materials for building a house (wood, bricks, etc.) and the layout as the blueprints for the house.

-   The materials are the fundamental building blocks that create the house itself, and the blueprints allow for them to be structured together into something that people can interact with.

Every component within the viewer that requires functional, compositional content needs to be configured within the viewer's corresponding app config.

<FollowAlongSnippet />

## Anatomy of an App config.

<AppItemSnippet />

## Linking Layout to App Config

Every component in the layout can be linked to app config with the `config` attribute. The `config` attribute is used to identify the item in the app config that has configuration for the component.

:::note
If you do not provide a `config` attribute for a component, Geocortex Web will attempt to [infer a default value](concepts-advanced-layout.mdx#implicit-config-binding).
:::

<Tabs
  defaultValue="layout"
  values={[
    { label: "layout", value: "layout" },
    { label: "app config", value: "config" },
  ]}>
<TabItem value="layout">

```xml
<?xml version="1.0" encoding="utf-8" ?>
<layout xmlns="https://geocortex.com/layout/v1">
    <map id="map-primary" config="myMapConfig"/>
</layout>
```

</TabItem>
<TabItem value="config">

```json
{
    "items": [
        {
            "$type": "map-extension",
            "id": "myMapConfig",
            "onInitialized": [
                {
                    "name": "ui.alert",
                    "arguments": {
                        "message": "Hello World"
                    }
                }
            ]
        }
    ]
}
```

</TabItem>
</Tabs>

The same config can be used for multiple items in a layout. For example, this allows you to reuse the same button in multiple locations in the App.

<Tabs
  defaultValue="layout"
  values={[
    { label: "layout", value: "layout" },
    { label: "app config", value: "config" },
    { label: "User Interface", value: "ui" },
  ]}>
<TabItem value="layout">

```xml
<?xml version="1.0" encoding="utf-8" ?>
<layout xmlns="https://geocortex.com/layout/v1">
  <split resizable="true">
    <panel width="30">
        <stack margin="0.5">
            // highlight-next-line
          <button icon="info" config="doSomething" margin="0.5" title="Do Something 1"></button>
        </stack>
    </panel>
    <map id="map-primary" slot="main">
        // highlight-next-line
      <button icon="info" config="doSomething" slot="top-center" margin="0.5" title="Do Something 2"></button>
    </map>
  </split>
</layout>
```

</TabItem>
<TabItem value="config">

```json
{
    "items": [
        {
            "$type": "menu-item",
            // highlight-next-line
            "id": "doSomething",
            "isEnabled": true,
            "iconId": "info",
            "action": {
                "name": "ui.alert",
                "arguments": {
                    "title": "Something?",
                    "message": "Fine, I did it",
                    "buttonText": "OK"
                }
            }
        }
    ]
}
```

</TabItem>
<TabItem value="ui">

<!-- TODO - live preview -->

</TabItem>
</Tabs>

## Targeting Components by ID

Every component can also have an `id` attribute. The `id` attribute uniquely identifies a component within a layout and allows app items to target the component. The id can be used by [commands](concepts-commands-operations.mdx) like `ui.activate` to target components, or by commands like `run.workflow` to target a host container component to display workflow UI within.

:::note
This example uses [commands and operations](concepts-commands-operations.mdx) to power it's behavior.
:::

<Tabs
  defaultValue="layout"
  values={[
    { label: "layout", value: "layout" },
    { label: "app config", value: "config" },
    { label: "User Interface", value: "ui" },
  ]}>
<TabItem value="layout">

```xml
<?xml version="1.0" encoding="utf-8" ?>
<layout xmlns="https://geocortex.com/layout/v1">
    <split resizable="true">
        <panel width="30" active="true" id="mainPanel"></panel>
        <map id="map-primary" slot="main">
            <button icon="info" config="runWorkflow" slot="top-center" margin="0.5">Run Workflow in Side Panel</button>
            <split slot="bottom-center">
                <button icon="" config="showIwtm" margin="0.5">Show I Want To Menu</button>
                <button icon="" config="hideIwtm" margin="0.5">Hide I Want To Menu</button>
            </split>
            // highlight-next-line
            <iwtm config="iwtm-config" slot="top-left" active="false" id="iwtm"/>
        </map>
    </split>
</layout>
```

</TabItem>
<TabItem value="config">

```json
{
    "items": [
        {
            "$type": "workflow",
            "id": "demoWorkflow",
            "title": "Demo Worklfow",
            "target": "mainPanel",
            "portalItem": "c3964768dfa84fe5acf7a72ef95dc92b"
        },
        {
            "$type": "menu-item",
            "id": "runWorkflow",
            "title": "Run Workflow in Sidebar",
            "isEnabled": true,
            "iconId": "info",
            "action": {
                "name": "workflow.run",
                "arguments": {
                    "id": "demoWorkflow"
                }
            }
        },
        {
            "$type": "menu-item",
            "id": "showIwtm",
            "title": "Show I Want To Menu",
            "isEnabled": true,
            "iconId": "",
            "action": {
                "name": "ui.activate",
                // highlight-next-line
                "arguments": "iwtm"
            }
        },
        {
            "$type": "menu-item",
            "id": "hideIwtm",
            "title": "Hide I Want To Menu",
            "isEnabled": true,
            "iconId": "",
            "action": {
                "name": "ui.deactivate",
                // highlight-next-line
                "arguments": "iwtm"
            }
        },
        {
            "id": "iwtm-config",
            "items": ["item://menu-item/runWorkflow"],
            "title": "I Want To Menu",
            "$type": "menu"
        }
    ]
}
```

</TabItem>
</Tabs>

<!-- TODO - live web preview -->

## Example: Application with Hidden Side Panel

This example demonstrates a web application with a hidden side panel that pops out when you click a button. It was created entirely with app config and layout. Some concepts from [advanced layout](concepts-advanced-layout.mdx) and [advanced app config](advanced-config.mdx), such as linking config items through [item URIs](TODO-link), were used.

<!-- TODO - user interface screenshot -->

<Tabs
  defaultValue="layout"
  values={[
    { label: "layout", value: "layout" },
    { label: "app config", value: "config" },
  ]}>
<TabItem value="layout">

```xml
<?xml version="1.0" encoding="UTF-8"?>
<layout xmlns="https://geocortex.com/layout/v1" xmlns:web="https://geocortex.com/layout/web/v1">
    <split resizable="true">
        <panel id="hidden-panel" show-close-button="true" width="50" active="false">
            <stack padding="2" halign="center" valign="center">
                <map id="small-map" config="small-map" grow="1" margin="4"/>
                <scalebar config="small-map-scalebar" grow="1" slot="bottom-left" models="#small-map"/>
                <button grow="1" config="zoom-both-maps"/>
                <split grow="1" valign="center">
                    <button grow="1" config="zoom-small-map"/>
                    <button grow="1" config="zoom-large-map"/>
                </split>
                </stack>
        </panel>
        <map id="large-map" config="large-map">
            <iwtm config="iwtm" slot="top-left"/>
            <compass slot="top-right"/>
            <web:expand slot="bottom-right" >
                <web:bookmarks />
            </web:expand>
            <web:scale-input slot="bottom-left" />
            <scalebar slot="bottom-left"/>
            <map-coordinates slot="context-menu"/>
        </map>
    </split>
</layout> 
```

</TabItem>
<TabItem value="config">

```json
{
    "schemaVersion": "1.0",
    "items": [
        {
            "$type": "geocortex-web-viewer",
            "id": "default",
            "onInitialized": [
                {
                    "name": "ui.display-notification",
                    "arguments": {
                        "message": "Use the I Want TO Menuto open up a hidden side panel."
                    }
                }
            ]
        },
        {
            "$type": "map-extension",
            "id": "small-map"
        },
        {
            "$type": "map-extension",
            "id": "large-map"
        },
        {
            "id": "iwtm",
            "items": [
                {
                    "iconId": "open",
                    "title": "Open Hidden Side Panel",
                    "action": {
                        "name": "ui.activate",
                        "arguments": "hidden-panel"
                    },
                    "$type": "menu-item"
                }
            ],
            "title": "I Want To Menu",
            "isLandmark": true,
            "$type": "menu"        
        },
        {
            "$type": "menu-item",
            "id": "zoom-both-maps",
            "title": "Zoom Both Maps In",
            "isEnabled": true,
            "iconId": "zoom",
            "action": {
                "name": "map.zoom-in",
                "arguments": {
                    "maps": ["item://map-extension/small-map", "item://map-extension/large-map"]
                }
            }
        },
        {
            "$type": "menu-item",
            "id": "zoom-small-map",
            "title": "Zoom Small Map Out",
            "isEnabled": true,
            "iconId": "zoom",
            "action": {
                "name": "map.zoom-out",
                "arguments": {
                    "maps": ["item://map-extension/small-map"]
                }
            }
        },
        {
            "$type": "menu-item",
            "id": "zoom-large-map",
            "title": "Zoom Large Map Out",
            "isEnabled": true,
            "iconId": "zoom",
            "action": {
                "name": "map.zoom-out",
                "arguments": {
                    "maps": ["item://map-extension/large-map"]
                }
            }
        },
        {
            "$type": "scalebar",
            "id": "small-map-scalebar",
            "showDualUnits": true
        }
    ]
}
```

</TabItem>
</Tabs>


## Next Steps: Commands and Operations

TODO - this paragraph
