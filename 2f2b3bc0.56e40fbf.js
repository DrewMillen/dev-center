(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{183:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return i})),n.d(t,"metadata",(function(){return c})),n.d(t,"rightToc",(function(){return l})),n.d(t,"default",(function(){return s}));var a=n(1),o=n(9),r=(n(0),n(263)),i={title:"Advanced Layout",description:"Geocortex Web - Learn about Geocortex Web's advanced layout configuration options"},c={id:"web/concepts-advanced-layout",title:"Advanced Layout",description:"Geocortex Web - Learn about Geocortex Web's advanced layout configuration options",source:"@site/docs/web/concepts-advanced-layout.mdx",permalink:"/docs/web/concepts-advanced-layout",editUrl:"https://github.com/geocortex/dev-center/edit/master/docs/web/concepts-advanced-layout.mdx",sidebar:"web",previous:{title:"Events",permalink:"/docs/web/concepts-events"},next:{title:"Advanced App Config",permalink:"/docs/web/concepts-advanced-app-config"}},l=[{value:"Nested Model Imports",id:"nested-model-imports",children:[]},{value:"Advanced Model Binding",id:"advanced-model-binding",children:[]},{value:"Component Defaults",id:"component-defaults",children:[]}],p={rightToc:l};function s(e){var t=e.components,n=Object(o.a)(e,["components"]);return Object(r.b)("wrapper",Object(a.a)({},p,n,{components:t,mdxType:"MDXLayout"}),Object(r.b)("h2",{id:"nested-model-imports"},"Nested Model Imports"),Object(r.b)("p",null,"In previous layout examples, layouts were shown where components related to a map, such as zoom buttons, were nested within a map. It was assumed that the component would bind to the map it was placed in, but why?"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-xml"}),'    <map config="map1" slot="main">\n      <stack margin="0.5" slot="bottom-right" halign="end">\n        <zoom margin="0.8"/>\n        <geolocate id="geolocator" margin="0.5" config="geolocate" />\n      </stack>\n    </map>\n')),Object(r.b)("p",null,"Certain components, such as ",Object(r.b)("inlineCode",{parentName:"p"},"<zoom/>")," or ",Object(r.b)("inlineCode",{parentName:"p"},"<geolocate/>"),", require a ",Object(r.b)("inlineCode",{parentName:"p"},"Map Model")," to function. To locate a ",Object(r.b)("inlineCode",{parentName:"p"},"Map Model"),", the layout tree hierarchy will be searched upwards, starting at the requesting component. When a element in the layout is found that provides the required model, (in this case, the ",Object(r.b)("inlineCode",{parentName:"p"},"<map/>")," component provides a Map Model), the requesting component will import the model. If the correct model is not found on an upwards search, a breadth first search will be performed from the root of the layout tree."),Object(r.b)("p",null,"Take this more complicated layout for example."),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-xml"}),'<?xml version="1.0" encoding="utf-8" ?>\n<layout xmlns="https://geocortex.com/layout/v1">\n    <split resizable="true" width="26">\n        <map id="map-1" config="map-1" slot="main">\n            <iwtm config="iwtm" slot="top-right"/>\n            <stack margin="0.5" slot="bottom-right" halign="end">\n                <zoom margin="0.5"/>\n                <button config="measure-action" icon="measure" style="map-widget" margin="0.5"/>\n                <geolocate margin="0.5" config="geolocate" />\n            </stack>\n        </map>\n\n        <panel>\n            <stack>\n                <search config="search"/>\n                <results-list config="results" active="false" />\n            </stack>\n            <feature-details config="feature-details"/>\n        </panel>\n    </split>\n</layout>\n')),Object(r.b)("p",null,"This layout has a ",Object(r.b)("inlineCode",{parentName:"p"},"<search>")," component which requires the context of a specific map to function. However, this component is ",Object(r.b)("strong",{parentName:"p"},"not")," nested within the ",Object(r.b)("inlineCode",{parentName:"p"},"<map/>")," component in the app. Therefore, it will start a breadth first search from the root of the layout to discover a map model and import it."),Object(r.b)("h2",{id:"advanced-model-binding"},"Advanced Model Binding"),Object(r.b)("p",null,"Sometimes, you can have multiple components that need to bind to the same model."),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-xml"}),'<split>\n    <panel id="left-panel">\n        <scalebar active="true" models="#map"/>\n        <results-list models="#map"/>\n        <legend models="#map"/>\n    </panel>\n    <map id="map" />\n</split>\n')),Object(r.b)("p",null,"To simplify this binding, we can take advantage of the default behavior of searching up the layout tree for the appropriate model and bind the map to the parent panel of the components which need to reference a map model."),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-xml"}),'<?xml version="1.0" encoding="utf-8" ?>\n<layout xmlns="https://geocortex.com/layout/v1">\n    <split>\n        // highlight-next-line\n        <panel id="left-panel" models="#map">\n            <scalebar active="true"/>\n            <results-list />\n            <legend />\n        </panel>\n        <map id="map" />\n    </split>\n</layout>\n')),Object(r.b)("h2",{id:"component-defaults"},"Component Defaults"),Object(r.b)("p",null,"Most components support the ",Object(r.b)("a",Object(a.a)({parentName:"p"},{href:"/docs/web/concepts-app-config#linking-layout-to-app-config"}),Object(r.b)("inlineCode",{parentName:"a"},"config")," attribute"),", which links a component to configuration in the ",Object(r.b)("inlineCode",{parentName:"p"},"app.json"),". However, many components have default values they can supply for initialization instead of relying on configuration. This means that if you omit the ",Object(r.b)("inlineCode",{parentName:"p"},"config")," property for certain components, the component will attempt to create itself with its default values. An example of defining these default values can be seen in the ",Object(r.b)("inlineCode",{parentName:"p"},"_getSerializableProperties")," method of the model created for ",Object(r.b)("a",Object(a.a)({parentName:"p"},{href:"/docs/web/usecases-implement-component-participate-app-config#participating-in-the-configuration-lifecycle"}),"this use case"),". Its also the mechanism that powers the default map displayed by this layout."),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-xml"}),'<?xml version="1.0" encoding="utf-8" ?>\n<layout xmlns="https://geocortex.com/layout/v1">\n    <map>\n        <zoom padding="0.5" slot="top-left"/>\n    </map>\n</layout>\n')))}s.isMDXComponent=!0},263:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return b}));var a=n(0),o=n.n(a);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var p=o.a.createContext({}),s=function(e){var t=o.a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):c({},t,{},e)),n},m=function(e){var t=s(e.components);return o.a.createElement(p.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return o.a.createElement(o.a.Fragment,{},t)}},u=Object(a.forwardRef)((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,i=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),m=s(n),u=a,b=m["".concat(i,".").concat(u)]||m[u]||d[u]||r;return n?o.a.createElement(b,c({ref:t},p,{components:n})):o.a.createElement(b,c({ref:t},p))}));function b(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,i=new Array(r);i[0]=u;var c={};for(var l in t)hasOwnProperty.call(t,l)&&(c[l]=t[l]);c.originalType=e,c.mdxType="string"==typeof e?e:a,i[1]=c;for(var p=2;p<r;p++)i[p]=n[p];return o.a.createElement.apply(null,i)}return o.a.createElement.apply(null,n)}u.displayName="MDXCreateElement"}}]);